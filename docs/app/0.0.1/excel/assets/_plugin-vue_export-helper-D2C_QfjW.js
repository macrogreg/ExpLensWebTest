var er=Object.defineProperty;var hn=e=>{throw TypeError(e)};var tr=(e,t,n)=>t in e?er(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var m=(e,t,n)=>tr(e,typeof t!="symbol"?t+"":t,n),Ut=(e,t,n)=>t.has(e)||hn("Cannot "+n);var s=(e,t,n)=>(Ut(e,t,"read from private field"),n?n.call(e):t.get(e)),y=(e,t,n)=>t.has(e)?hn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),p=(e,t,n,r)=>(Ut(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),pt=(e,t,n)=>(Ut(e,t,"access private method"),n);var gn=(e,t,n,r)=>({set _(o){p(e,t,o,n)},get _(){return s(e,t,r)}});import{r as L,f as An,m as Ue,c as J,g as ue,o as be,n as nr,U as Qe,h as I,k as Xe,al as rr,am as mn,a as b,b as ft,an as un,ao as or,_ as Ft,v as Et,ap as ir,aq as sr,ar,as as Ve,j as Dn,y as lr,z as ur,T as cr,w as G,at as dr,au as fr,K as hr,av as gr,Q as pn,P as mr,ah as vn,X as yn,W as pr,aw as Ct,s as vr,ag as yr,ax as Sr,ay as br,az as wr,a0 as Bn,aA as Rn,a3 as cn,a2 as Cr,aB as ee,aC as qt}from"./index-C46hz2fF.js";function $r(){const e=L(!An.value);return e.value===!1&&Ue(()=>{e.value=!0}),{isHydrated:e}}const Nn=typeof ResizeObserver<"u",Sn=Nn===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},ti=J({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let n=null,r,o={width:-1,height:-1};function i(l){l===!0||e.debounce===0||e.debounce==="0"?a():n===null&&(n=setTimeout(a,e.debounce))}function a(){if(n!==null&&(clearTimeout(n),n=null),r){const{offsetWidth:l,offsetHeight:d}=r;(l!==o.width||d!==o.height)&&(o={width:l,height:d},t("resize",o))}}const{proxy:u}=ue();if(u.trigger=i,Nn===!0){let l;const d=c=>{r=u.$el.parentNode,r?(l=new ResizeObserver(i),l.observe(r),a()):c!==!0&&Qe(()=>{d(!0)})};return Ue(()=>{d()}),be(()=>{n!==null&&clearTimeout(n),l!==void 0&&(l.disconnect!==void 0?l.disconnect():r&&l.unobserve(r))}),nr}else{let l=function(){n!==null&&(clearTimeout(n),n=null),h!==void 0&&(h.removeEventListener!==void 0&&h.removeEventListener("resize",i,Xe.passive),h=void 0)},d=function(){l(),r?.contentDocument&&(h=r.contentDocument.defaultView,h.addEventListener("resize",i,Xe.passive),a())};const{isHydrated:c}=$r();let h;return Ue(()=>{Qe(()=>{r=u.$el,r&&d()})}),be(l),()=>{if(c.value===!0)return I("object",{class:"q--avoid-card-border",style:Sn.style,tabindex:-1,type:"text/html",data:Sn.url,"aria-hidden":"true",onLoad:d})}}}}),ni=[Element,String],Er=[null,document,document.body,document.scrollingElement,document.documentElement];function ri(e,t){let n=rr(t);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return Er.includes(n)?window:n}function oi(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function ii(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let vt;function Ir(){if(vt!==void 0)return vt;const e=document.createElement("p"),t=document.createElement("div");mn(e,{width:"100%",height:"200px"}),mn(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return n===r&&(r=t.clientWidth),t.remove(),vt=n-r,vt}function si(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}const bn=J({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=b(()=>parseInt(e.lines,10)),r=b(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),o=b(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>I("div",{style:o.value,class:r.value},ft(t.default))}}),Qt=J({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=b(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>I("div",{class:n.value},ft(t.default))}}),Vt={dark:{type:Boolean,default:null}};function _t(e,t){return b(()=>e.dark===null?t.dark.isActive:e.dark)}const Tr=J({name:"QItem",props:{...Vt,...un,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:r}}=ue(),o=_t(e,r),{hasLink:i,linkAttrs:a,linkClass:u,linkTag:l,navigateOnClick:d}=or(),c=L(null),h=L(null),g=b(()=>e.clickable===!0||i.value===!0||e.tag==="label"),f=b(()=>e.disable!==!0&&g.value===!0),v=b(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(o.value===!0?" q-item--dark":"")+(i.value===!0&&e.active===null?u.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(f.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),S=b(()=>e.insetLevel===void 0?null:{["padding"+(r.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function k(C){f.value===!0&&(h.value!==null&&C.qAvoidFocus!==!0&&(C.qKeyEvent!==!0&&document.activeElement===c.value?h.value.focus():document.activeElement===h.value&&c.value.focus()),d(C))}function E(C){if(f.value===!0&&Ft(C,[13,32])===!0){Et(C),C.qKeyEvent=!0;const F=new MouseEvent("click",C);F.qKeyEvent=!0,c.value.dispatchEvent(F)}n("keyup",C)}function w(){const C=ir(t.default,[]);return f.value===!0&&C.unshift(I("div",{class:"q-focus-helper",tabindex:-1,ref:h})),C}return()=>{const C={ref:c,class:v.value,style:S.value,role:"listitem",onClick:k,onKeyup:E};return f.value===!0?(C.tabindex=e.tabindex||"0",Object.assign(C,a.value)):g.value===!0&&(C["aria-disabled"]="true"),I(l.value,C,w())}}});function xr(e,t){const n=L(null),r=b(()=>e.disable===!0?null:I("span",{ref:n,class:"no-outline",tabindex:-1}));function o(i){const a=t.value;i?.qAvoidFocus!==!0&&(i?.type.indexOf("key")===0?document.activeElement!==a&&a?.contains(document.activeElement)===!0&&a.focus():n.value!==null&&(i===void 0||a?.contains(i.target)===!0)&&n.value.focus())}return{refocusTargetEl:r,refocusTarget:o}}const Fn={name:String};function qn(e={}){return(t,n,r)=>{t[n](I("input",{class:"hidden"+(r||""),...e.value}))}}function ai(e){return b(()=>e.name||e.for)}const kr={xs:30,sm:35,md:40,lg:50,xl:60},li={...Vt,...sr,...Fn,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},ui=["update:modelValue"];function ci(e,t){const{props:n,slots:r,emit:o,proxy:i}=ue(),{$q:a}=i,u=_t(n,a),l=L(null),{refocusTargetEl:d,refocusTarget:c}=xr(n,l),h=ar(n,kr),g=b(()=>n.val!==void 0&&Array.isArray(n.modelValue)),f=b(()=>{const T=Ve(n.val);return g.value===!0?n.modelValue.findIndex(X=>Ve(X)===T):-1}),v=b(()=>g.value===!0?f.value!==-1:Ve(n.modelValue)===Ve(n.trueValue)),S=b(()=>g.value===!0?f.value===-1:Ve(n.modelValue)===Ve(n.falseValue)),k=b(()=>v.value===!1&&S.value===!1),E=b(()=>n.disable===!0?-1:n.tabindex||0),w=b(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(u.value===!0?` q-${e}--dark`:"")+(n.dense===!0?` q-${e}--dense`:"")+(n.leftLabel===!0?" reverse":"")),C=b(()=>{const T=v.value===!0?"truthy":S.value===!0?"falsy":"indet",X=n.color!==void 0&&(n.keepColor===!0||(e==="toggle"?v.value===!0:S.value!==!0))?` text-${n.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${T}${X}`}),F=b(()=>{const T={type:"checkbox"};return n.name!==void 0&&Object.assign(T,{".checked":v.value,"^checked":v.value===!0?"checked":void 0,name:n.name,value:g.value===!0?n.val:n.trueValue}),T}),M=qn(F),ce=b(()=>{const T={tabindex:E.value,role:e==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":k.value===!0?"mixed":v.value===!0?"true":"false"};return n.disable===!0&&(T["aria-disabled"]="true"),T});function _(T){T!==void 0&&(Et(T),c(T)),n.disable!==!0&&o("update:modelValue",q(),T)}function q(){if(g.value===!0){if(v.value===!0){const T=n.modelValue.slice();return T.splice(f.value,1),T}return n.modelValue.concat([n.val])}if(v.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(S.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function K(T){(T.keyCode===13||T.keyCode===32)&&Et(T)}function jt(T){(T.keyCode===13||T.keyCode===32)&&_(T)}const ht=t(v,k);return Object.assign(i,{toggle:_}),()=>{const T=ht();n.disable!==!0&&M(T,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const X=[I("div",{class:C.value,style:h.value,"aria-hidden":"true"},T)];d.value!==null&&X.push(d.value);const gt=n.label!==void 0?Dn(r.default,[n.label]):ft(r.default);return gt!==void 0&&X.push(I("div",{class:`q-${e}__label q-anchor--skip`},gt)),I("div",{ref:l,class:w.value,...ce.value,onClick:_,onKeydown:K,onKeyup:jt},X)}}const Or=J({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=b(()=>{const r=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(o=>e[o]===!0).map(o=>`q-btn-group--${o}`).join(" ");return`q-btn-group row no-wrap${r.length!==0?" "+r:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>I("div",{class:n.value},ft(t.default))}}),di=J({name:"QBtnToggle",props:{...Fn,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:n}){const r=b(()=>e.options.find(g=>g.value===e.modelValue)!==void 0),o=b(()=>({type:"hidden",name:e.name,value:e.modelValue})),i=qn(o),a=b(()=>lr(e)),u=b(()=>({rounded:e.rounded,dense:e.dense,...a.value})),l=b(()=>e.options.map((g,f)=>{const{attrs:v,value:S,slot:k,...E}=g;return{slot:k,props:{key:f,"aria-pressed":S===e.modelValue?"true":"false",...v,...E,...u.value,disable:e.disable===!0||E.disable===!0,color:S===e.modelValue?c(E,"toggleColor"):c(E,"color"),textColor:S===e.modelValue?c(E,"toggleTextColor"):c(E,"textColor"),noCaps:c(E,"noCaps")===!0,noWrap:c(E,"noWrap")===!0,size:c(E,"size"),padding:c(E,"padding"),ripple:c(E,"ripple"),stack:c(E,"stack")===!0,stretch:c(E,"stretch")===!0,onClick(w){d(S,g,w)}}}}));function d(g,f,v){e.readonly!==!0&&(e.modelValue===g?e.clearable===!0&&(n("update:modelValue",null,null),n("clear")):n("update:modelValue",g,f),n("click",v))}function c(g,f){return g[f]===void 0?e[f]:g[f]}function h(){const g=l.value.map(f=>I(ur,f.props,f.slot!==void 0?t[f.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&r.value===!0&&i(g,"push"),Dn(t.default,g)}return()=>I(Or,{class:"q-btn-toggle",...a.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},h)}}),Lr=J({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:n}){let r=!1,o,i,a=null,u=null,l,d;function c(){o?.(),o=null,r=!1,a!==null&&(clearTimeout(a),a=null),u!==null&&(clearTimeout(u),u=null),i?.removeEventListener("transitionend",l),l=null}function h(S,k,E){k!==void 0&&(S.style.height=`${k}px`),S.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,r=!0,o=E}function g(S,k){S.style.overflowY=null,S.style.height=null,S.style.transition=null,c(),k!==d&&n(k)}function f(S,k){let E=0;i=S,r===!0?(c(),E=S.offsetHeight===S.scrollHeight?0:void 0):(d="hide",S.style.overflowY="hidden"),h(S,E,k),a=setTimeout(()=>{a=null,S.style.height=`${S.scrollHeight}px`,l=w=>{u=null,(Object(w)!==w||w.target===S)&&g(S,"show")},S.addEventListener("transitionend",l),u=setTimeout(l,e.duration*1.1)},100)}function v(S,k){let E;i=S,r===!0?c():(d="show",S.style.overflowY="hidden",E=S.scrollHeight),h(S,E,k),a=setTimeout(()=>{a=null,S.style.height=0,l=w=>{u=null,(Object(w)!==w||w.target===S)&&g(S,"hide")},S.addEventListener("transitionend",l),u=setTimeout(l,e.duration*1.1)},100)}return be(()=>{r===!0&&c()}),()=>I(cr,{css:!1,appear:e.appear,onEnter:f,onLeave:v},t.default)}}),Mr={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Gt={xs:2,sm:4,md:8,lg:16,xl:24},wn=J({name:"QSeparator",props:{...Vt,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=ue(),n=_t(e,t.proxy.$q),r=b(()=>e.vertical===!0?"vertical":"horizontal"),o=b(()=>` q-separator--${r.value}`),i=b(()=>e.inset!==!1?`${o.value}-${Mr[e.inset]}`:""),a=b(()=>`q-separator${o.value}${i.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),u=b(()=>{const l={};if(e.size!==void 0&&(l[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const d=e.spaced===!0?`${Gt.md}px`:e.spaced in Gt?`${Gt[e.spaced]}px`:e.spaced,c=e.vertical===!0?["Left","Right"]:["Top","Bottom"];l[`margin${c[0]}`]=l[`margin${c[1]}`]=d}return l});return()=>I("hr",{class:a.value,style:u.value,"aria-orientation":r.value})}});let Yt,yt=0;const A=new Array(256);for(let e=0;e<256;e++)A[e]=(e+256).toString(16).substring(1);const Ar=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let r=t;r>0;r--)n.push(Math.floor(Math.random()*256));return n}})(),Cn=4096;function It(){(Yt===void 0||yt+16>Cn)&&(yt=0,Yt=Ar(Cn));const e=Array.prototype.slice.call(Yt,yt,yt+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,A[e[0]]+A[e[1]]+A[e[2]]+A[e[3]]+"-"+A[e[4]]+A[e[5]]+"-"+A[e[6]]+A[e[7]]+"-"+A[e[8]]+A[e[9]]+"-"+A[e[10]]+A[e[11]]+A[e[12]]+A[e[13]]+A[e[14]]+A[e[15]]}function Dr(e){return e??null}function $n(e,t){return e??(t===!0?`f_${It()}`:null)}function Br({getValue:e,required:t=!0}={}){if(An.value===!0){const n=e!==void 0?L(Dr(e())):L(null);return t===!0&&n.value===null&&Ue(()=>{n.value=`f_${It()}`}),e!==void 0&&G(e,r=>{n.value=$n(r,t)}),n}return e!==void 0?b(()=>$n(e(),t)):L(`f_${It()}`)}const Rr={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Nr=["beforeShow","show","beforeHide","hide"];function Fr({showing:e,canShow:t,hideOnRouteChange:n,handleShow:r,handleHide:o,processOnMount:i}){const a=ue(),{props:u,emit:l,proxy:d}=a;let c;function h(w){e.value===!0?v(w):g(w)}function g(w){if(u.disable===!0||w?.qAnchorHandled===!0||t!==void 0&&t(w)!==!0)return;const C=u["onUpdate:modelValue"]!==void 0;C===!0&&(l("update:modelValue",!0),c=w,Qe(()=>{c===w&&(c=void 0)})),(u.modelValue===null||C===!1)&&f(w)}function f(w){e.value!==!0&&(e.value=!0,l("beforeShow",w),r!==void 0?r(w):l("show",w))}function v(w){if(u.disable===!0)return;const C=u["onUpdate:modelValue"]!==void 0;C===!0&&(l("update:modelValue",!1),c=w,Qe(()=>{c===w&&(c=void 0)})),(u.modelValue===null||C===!1)&&S(w)}function S(w){e.value!==!1&&(e.value=!1,l("beforeHide",w),o!==void 0?o(w):l("hide",w))}function k(w){u.disable===!0&&w===!0?u["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):w===!0!==e.value&&(w===!0?f:S)(c)}G(()=>u.modelValue,k),n!==void 0&&dr(a)===!0&&G(()=>d.$route.fullPath,()=>{n.value===!0&&e.value===!0&&v()}),i===!0&&Ue(()=>{k(u.modelValue)});const E={show:g,hide:v,toggle:h};return Object.assign(d,E),E}const $e=fr({}),qr=Object.keys(un),fi=J({name:"QExpansionItem",props:{...un,...Rr,...Vt,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Nr,"click","afterShow","afterHide"],setup(e,{slots:t,emit:n}){const{proxy:{$q:r}}=ue(),o=_t(e,r),i=L(e.modelValue!==null?e.modelValue:e.defaultOpened),a=L(null),u=Br(),{show:l,hide:d,toggle:c}=Fr({showing:i});let h,g;const f=b(()=>`q-expansion-item q-item-type q-expansion-item--${i.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),v=b(()=>e.contentInsetLevel===void 0?null:{["padding"+(r.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),S=b(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),k=b(()=>{const $={};return qr.forEach(Z=>{$[Z]=e[Z]}),$}),E=b(()=>S.value===!0||e.expandIconToggle!==!0),w=b(()=>e.expandedIcon!==void 0&&i.value===!0?e.expandedIcon:e.expandIcon||r.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),C=b(()=>e.disable!==!0&&(S.value===!0||e.expandIconToggle===!0)),F=b(()=>({expanded:i.value===!0,detailsId:u.value,toggle:c,show:l,hide:d})),M=b(()=>{const $=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:r.lang.label[i.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":i.value===!0?"true":"false","aria-controls":u.value,"aria-label":$}});G(()=>e.group,$=>{g?.(),$!==void 0&&ht()});function ce($){S.value!==!0&&c($),n("click",$)}function _($){$.keyCode===13&&q($,!0)}function q($,Z){Z!==!0&&$.qAvoidFocus!==!0&&a.value?.focus(),c($),Et($)}function K(){n("afterShow")}function jt(){n("afterHide")}function ht(){h===void 0&&(h=It()),i.value===!0&&($e[e.group]=h);const $=G(i,mt=>{mt===!0?$e[e.group]=h:$e[e.group]===h&&delete $e[e.group]}),Z=G(()=>$e[e.group],(mt,Zn)=>{Zn===h&&mt!==void 0&&mt!==h&&d()});g=()=>{$(),Z(),$e[e.group]===h&&delete $e[e.group],g=void 0}}function T(){const $={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},Z=[I(pn,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&i.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:w.value})];return C.value===!0&&(Object.assign($,{tabindex:0,...M.value,onClick:q,onKeyup:_}),Z.unshift(I("div",{ref:a,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),I(Qt,$,()=>Z)}function X(){let $;return t.header!==void 0?$=[].concat(t.header(F.value)):($=[I(Qt,()=>[I(bn,{lines:e.labelLines},()=>e.label||""),e.caption?I(bn,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&$[e.switchToggleSide===!0?"push":"unshift"](I(Qt,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>I(pn,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&$[e.switchToggleSide===!0?"unshift":"push"](T()),$}function gt(){const $={ref:"item",style:e.headerStyle,class:e.headerClass,dark:o.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return E.value===!0&&($.clickable=!0,$.onClick=ce,Object.assign($,S.value===!0?k.value:M.value)),I(Tr,$,X)}function Kn(){return hr(I("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:v.value,id:u.value},ft(t.default)),[[gr,i.value]])}function Xn(){const $=[gt(),I(Lr,{duration:e.duration,onShow:K,onHide:jt},Kn)];return e.expandSeparator===!0&&$.push(I(wn,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:o.value}),I(wn,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:o.value})),$}return e.group!==void 0&&ht(),be(()=>{g?.()}),()=>I("div",{class:f.value},[I("div",{class:"q-expansion-item__container relative-position"},Xn())])}});function Vr(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),mr.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const _r={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},hi={..._r,contextMenu:Boolean};function gi({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:r,proxy:o,emit:i}=ue(),a=L(null);let u=null;function l(f){return a.value===null?!1:f===void 0||f.touches===void 0||f.touches.length<=1}const d={};n===void 0&&(Object.assign(d,{hide(f){o.hide(f)},toggle(f){o.toggle(f),f.qAnchorHandled=!0},toggleKey(f){Ft(f,13)===!0&&d.toggle(f)},contextClick(f){o.hide(f),vn(f),Qe(()=>{o.show(f),f.qAnchorHandled=!0})},prevent:vn,mobileTouch(f){if(d.mobileCleanup(f),l(f)!==!0)return;o.hide(f),a.value.classList.add("non-selectable");const v=f.target;yn(d,"anchor",[[v,"touchmove","mobileCleanup","passive"],[v,"touchend","mobileCleanup","passive"],[v,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),u=setTimeout(()=>{u=null,o.show(f),f.qAnchorHandled=!0},300)},mobileCleanup(f){a.value.classList.remove("non-selectable"),u!==null&&(clearTimeout(u),u=null),e.value===!0&&f!==void 0&&Vr()}}),n=function(f=r.contextMenu){if(r.noParentEvent===!0||a.value===null)return;let v;f===!0?o.$q.platform.is.mobile===!0?v=[[a.value,"touchstart","mobileTouch","passive"]]:v=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:v=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],yn(d,"anchor",v)});function c(){pr(d,"anchor")}function h(f){for(a.value=f;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;n()}function g(){if(r.target===!1||r.target===""||o.$el.parentNode===null)a.value=null;else if(r.target===!0)h(o.$el.parentNode);else{let f=r.target;if(typeof r.target=="string")try{f=document.querySelector(r.target)}catch{f=void 0}f!=null?(a.value=f.$el||f,n()):(a.value=null,console.error(`Anchor: target "${r.target}" not found`))}}return G(()=>r.contextMenu,f=>{a.value!==null&&(c(),n(f))}),G(()=>r.target,()=>{a.value!==null&&c(),g()}),G(()=>r.noParentEvent,f=>{a.value!==null&&(f===!0?c():n())}),Ue(()=>{g(),t!==!0&&r.modelValue===!0&&a.value===null&&i("update:modelValue",!1)}),be(()=>{u!==null&&clearTimeout(u),c()}),{anchorEl:a,canShow:l,anchorEvents:d}}function mi(e,t){const n=L(null);let r;function o(u,l){const d=`${l!==void 0?"add":"remove"}EventListener`,c=l!==void 0?l:r;u!==window&&u[d]("scroll",c,Xe.passive),window[d]("scroll",c,Xe.passive),r=l}function i(){n.value!==null&&(o(n.value),n.value=null)}const a=G(()=>e.noParentEvent,()=>{n.value!==null&&(i(),t())});return be(a),{localScrollTarget:n,unconfigureScrollTarget:i,changeScrollEvent:o}}let Te=[],Ze=[];function Vn(e){Ze=Ze.filter(t=>t!==e)}function Pr(e){Vn(e),Ze.push(e)}function En(e){Vn(e),Ze.length===0&&Te.length!==0&&(Te[Te.length-1](),Te=[])}function pi(e){Ze.length===0?e():Te.push(e)}function vi(e){Te=Te.filter(t=>t!==e)}const Pe=[];function Wr(e){return Pe.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Hr(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return Ct(e)}else if(e.__qPortal===!0){const n=Ct(e);return n?.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=Ct(e)}while(e!=null)}function zr(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=Hr(e,t);continue}e.hide(t)}e=Ct(e)}}const jr=J({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function Ur(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function yi(e,t,n,r){const o=L(!1),i=L(!1);let a=null;const u={},l=r==="dialog"&&Ur(e);function d(h){if(h===!0){En(u),i.value=!0;return}i.value=!1,o.value===!1&&(l===!1&&a===null&&(a=br(!1,r)),o.value=!0,Pe.push(e.proxy),Pr(u))}function c(h){if(i.value=!1,h!==!0)return;En(u),o.value=!1;const g=Pe.indexOf(e.proxy);g!==-1&&Pe.splice(g,1),a!==null&&(wr(a),a=null)}return vr(()=>{c(!0)}),e.proxy.__qPortal=!0,yr(e.proxy,"contentEl",()=>t.value),{showPortal:d,hidePortal:c,portalIsActive:o,portalIsAccessible:i,renderPortal:()=>l===!0?n():o.value===!0?[I(Sr,{to:a},I(jr,n))]:void 0}}const Si={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function bi(e,t=()=>{},n=()=>{}){return{transitionProps:b(()=>{const r=`q-transition--${e.transitionShow||t()}`,o=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${r}-enter-from`,enterActiveClass:`${r}-enter-active`,enterToClass:`${r}-enter-to`,leaveFromClass:`${o}-leave-from`,leaveActiveClass:`${o}-leave-active`,leaveToClass:`${o}-leave-to`}}),transitionStyle:b(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function wi(){let e;const t=ue();function n(){e=void 0}return Bn(n),be(n),{removeTick:n,registerTick(r){e=r,Qe(()=>{e===r&&(Rn(t)===!1&&e(),e=void 0)})}}}function Ci(){let e=null;const t=ue();function n(){e!==null&&(clearTimeout(e),e=null)}return Bn(n),be(n),{removeTimeout:n,registerTimeout(r,o){n(),Rn(t)===!1&&(e=setTimeout(()=>{e=null,r()},o))}}}const De=[];let Ge;function Qr(e){Ge=e.keyCode===27}function Gr(){Ge===!0&&(Ge=!1)}function Yr(e){Ge===!0&&(Ge=!1,Ft(e,27)===!0&&De[De.length-1](e))}function _n(e){window[e]("keydown",Qr),window[e]("blur",Gr),window[e]("keyup",Yr),Ge=!1}function $i(e){cn.is.desktop===!0&&(De.push(e),De.length===1&&_n("addEventListener"))}function Ei(e){const t=De.indexOf(e);t!==-1&&(De.splice(t,1),De.length===0&&_n("removeEventListener"))}const Be=[];function Pn(e){Be[Be.length-1](e)}function Ii(e){cn.is.desktop===!0&&(Be.push(e),Be.length===1&&document.body.addEventListener("focusin",Pn))}function Ti(e){const t=Be.indexOf(e);t!==-1&&(Be.splice(t,1),Be.length===0&&document.body.removeEventListener("focusin",Pn))}const{notPassiveCapture:Tt}=Xe,Re=[];function xt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=Pe.length-1;for(;n>=0;){const r=Pe[n].$;if(r.type.name==="QTooltip"){n--;continue}if(r.type.name!=="QDialog")break;if(r.props.seamless!==!0)return;n--}for(let r=Re.length-1;r>=0;r--){const o=Re[r];if((o.anchorEl.value===null||o.anchorEl.value.contains(t)===!1)&&(t===document.body||o.innerRef.value!==null&&o.innerRef.value.contains(t)===!1))e.qClickOutside=!0,o.onClickOutside(e);else return}}function xi(e){Re.push(e),Re.length===1&&(document.addEventListener("mousedown",xt,Tt),document.addEventListener("touchstart",xt,Tt))}function ki(e){const t=Re.findIndex(n=>n===e);t!==-1&&(Re.splice(t,1),Re.length===0&&(document.removeEventListener("mousedown",xt,Tt),document.removeEventListener("touchstart",xt,Tt)))}let In,Tn;function Oi(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Li(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const en={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{en[`${e}#ltr`]=e,en[`${e}#rtl`]=e});function Mi(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:en[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function Jr(e,t){let{top:n,left:r,right:o,bottom:i,width:a,height:u}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],r-=t[0],i+=t[1],o+=t[0],a+=t[0],u+=t[1]),{top:n,bottom:i,height:u,left:r,right:o,width:a,middle:r+(o-r)/2,center:n+(i-n)/2}}function Kr(e,t,n){let{top:r,left:o}=e.getBoundingClientRect();return r+=t.top,o+=t.left,n!==void 0&&(r+=n[1],o+=n[0]),{top:r,bottom:r+1,height:1,left:o,right:o+1,width:1,middle:o,center:r}}function Xr(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function xn(e,t,n,r){return{top:e[n.vertical]-t[r.vertical],left:e[n.horizontal]-t[r.horizontal]}}function Zr(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Zr(e,t+1)},10);return}const{targetEl:n,offset:r,anchorEl:o,anchorOrigin:i,selfOrigin:a,absoluteOffset:u,fit:l,cover:d,maxHeight:c,maxWidth:h}=e;if(cn.is.ios===!0&&window.visualViewport!==void 0){const ce=document.body.style,{offsetLeft:_,offsetTop:q}=window.visualViewport;_!==In&&(ce.setProperty("--q-pe-left",_+"px"),In=_),q!==Tn&&(ce.setProperty("--q-pe-top",q+"px"),Tn=q)}const{scrollLeft:g,scrollTop:f}=n,v=u===void 0?Jr(o,d===!0?[0,0]:r):Kr(o,u,r);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:h,maxHeight:c,visibility:"visible"});const{offsetWidth:S,offsetHeight:k}=n,{elWidth:E,elHeight:w}=l===!0||d===!0?{elWidth:Math.max(v.width,S),elHeight:d===!0?Math.max(v.height,k):k}:{elWidth:S,elHeight:k};let C={maxWidth:h,maxHeight:c};(l===!0||d===!0)&&(C.minWidth=v.width+"px",d===!0&&(C.minHeight=v.height+"px")),Object.assign(n.style,C);const F=Xr(E,w);let M=xn(v,F,i,a);if(u===void 0||r===void 0)Jt(M,v,F,i,a);else{const{top:ce,left:_}=M;Jt(M,v,F,i,a);let q=!1;if(M.top!==ce){q=!0;const K=2*r[1];v.center=v.top-=K,v.bottom-=K+2}if(M.left!==_){q=!0;const K=2*r[0];v.middle=v.left-=K,v.right-=K+2}q===!0&&(M=xn(v,F,i,a),Jt(M,v,F,i,a))}C={top:M.top+"px",left:M.left+"px"},M.maxHeight!==void 0&&(C.maxHeight=M.maxHeight+"px",v.height>M.maxHeight&&(C.minHeight=C.maxHeight)),M.maxWidth!==void 0&&(C.maxWidth=M.maxWidth+"px",v.width>M.maxWidth&&(C.minWidth=C.maxWidth)),Object.assign(n.style,C),n.scrollTop!==f&&(n.scrollTop=f),n.scrollLeft!==g&&(n.scrollLeft=g)}function Jt(e,t,n,r,o){const i=n.bottom,a=n.right,u=Ir(),l=window.innerHeight-u,d=document.body.clientWidth;if(e.top<0||e.top+i>l)if(o.vertical==="center")e.top=t[r.vertical]>l/2?Math.max(0,l-i):0,e.maxHeight=Math.min(i,l);else if(t[r.vertical]>l/2){const c=Math.min(l,r.vertical==="center"?t.center:r.vertical===o.vertical?t.bottom:t.top);e.maxHeight=Math.min(i,c),e.top=Math.max(0,c-i)}else e.top=Math.max(0,r.vertical==="center"?t.center:r.vertical===o.vertical?t.top:t.bottom),e.maxHeight=Math.min(i,l-e.top);if(e.left<0||e.left+a>d)if(e.maxWidth=Math.min(a,d),o.horizontal==="middle")e.left=t[r.horizontal]>d/2?Math.max(0,d-a):0;else if(t[r.horizontal]>d/2){const c=Math.min(d,r.horizontal==="middle"?t.middle:r.horizontal===o.horizontal?t.right:t.left);e.maxWidth=Math.min(a,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,r.horizontal==="middle"?t.middle:r.horizontal===o.horizontal?t.left:t.right),e.maxWidth=Math.min(a,d-e.left)}function kn(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const Ai=Cr({name:"close-popup",beforeMount(e,{value:t}){const n={depth:kn(t),handler(r){n.depth!==0&&setTimeout(()=>{const o=Wr(e);o!==void 0&&zr(o,r,n.depth)})},handlerKey(r){Ft(r,13)===!0&&n.handler(r)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=kn(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});var nt,rt,ot,ne;class Wn{constructor(){y(this,nt);y(this,rt);y(this,ot);y(this,ne);m(this,"promise",()=>s(this,nt));m(this,"isCompleted",()=>s(this,ne));m(this,"tryResolve",t=>s(this,ne)?!1:(p(this,ne,!0),s(this,rt).call(this,t),!0));m(this,"resolve",t=>{if(!this.tryResolve(t))throw new Error("Cannot resolve this `PromiseCompletionSource` because it is already completed.")});m(this,"tryReject",t=>s(this,ne)?!1:(p(this,ne,!0),s(this,ot).call(this,t),!0));m(this,"reject",t=>{if(!this.tryReject(t))throw new Error("Cannot reject this `PromiseCompletionSource` because it is already completed.")});m(this,"tryCompleteWhen",t=>{this.chain(t,(n,r)=>r.tryResolve(n),(n,r)=>r.tryReject(n))});m(this,"chain",(t,n,r)=>{try{t.then(o=>n(o,this),o=>r(o,this))}catch(o){r(o,this)}});p(this,ne,!1);let t,n;if(p(this,nt,new Promise((r,o)=>{t=r,n=o})),!t||!n)throw new Error("`resFun` or `rejFun` are undefined.");p(this,rt,t),p(this,ot,n)}}nt=new WeakMap,rt=new WeakMap,ot=new WeakMap,ne=new WeakMap;var it,re,We,ke;const kt=class kt{constructor(t){y(this,it);y(this,re);y(this,We);y(this,ke);m(this,"isStarted",()=>s(this,ke));m(this,"isCompleted",()=>s(this,We));m(this,"isResolved",()=>s(this,re).isCompleted());m(this,"promise",()=>s(this,re).promise());m(this,"start",()=>(s(this,ke)||(p(this,ke,!0),setTimeout(()=>{p(this,We,!0),s(this,re).tryResolve(!0)},s(this,it))),s(this,re).promise()));m(this,"tryResolve",()=>s(this,re).tryResolve(!1));m(this,"tryResolveWhen",t=>{try{t.finally(this.tryResolve)}catch{this.tryResolve()}});if(!Number.isInteger(t))throw new Error(`The specified 'delayMSec' must be an integer, but '${t}' was specified.`);if(t<0)throw new Error(`The specified 'delayMSec' must be >= 0, but '${t}' was specified.`);p(this,it,t),p(this,re,new Wn),p(this,We,!1),p(this,ke,!1)}static Run(t){return new kt(t).start()}static Race(t,n){const r=new kt(t);return r.tryResolveWhen(n),r.start()}};it=new WeakMap,re=new WeakMap,We=new WeakMap,ke=new WeakMap;let et=kt;function eo(e,t,n){t.global||(t=new RegExp(t.source,t.flags+"g"));let r=0,o;for(;(o=t.exec(e))!==null;){if(r++,r>=n)return!0;o.index===t.lastIndex&&t.lastIndex++}return!1}function Pt(e){return e===null||e===void 0?!0:typeof e=="string"||e instanceof String?e.length===0?!0:e.trim().length===0:!1}function Kt(e){return e===null||e===void 0?!1:typeof e=="string"?e.length===0?!1:e.trim().length>0:!1}function Di(e,t){if(e===t)return 0;const n=e==null,r=t==null;return n&&r?0:n?-1:r?1:e<t?-1:e>t?1:0}const Ne=`
`;function Bi(e){if(e==null||!(e instanceof Date))throw new Error("formatDateUtc(..) expects datetime to be a valid instance of Date.");const t=N(4,e.getUTCFullYear()),n=N(2,e.getUTCMonth()+1),r=N(2,e.getUTCDate());return`${t}-${n}-${r}`}function Ri(e){if(e==null||!(e instanceof Date))throw new Error("formatDateLocal(..) expects datetime to be a valid instance of Date.");const t=N(4,e.getFullYear()),n=N(2,e.getMonth()+1),r=N(2,e.getDate());return`${t}-${n}-${r}`}function Ni(e){if(e==null||!(e instanceof Date))throw new Error("formatDateTimeLocalLong(..) expects datetime to be a valid instance of Date.");const t=N(4,e.getFullYear()),n=N(2,e.getMonth()+1),r=N(2,e.getDate()),o=N(2,e.getHours()),i=N(2,e.getMinutes()),a=N(2,e.getSeconds()),u=N(3,e.getMilliseconds());return`${t}-${n}-${r} ${o}:${i}:${a}.${u}`}function N(e,t){return t.toString().padStart(e,"0")}function tn(e){return e===null?"null":typeof e=="object"&&e instanceof Error?e.name??"null":Ht(e)}function Wt(e){if(e===null)return"null";if(typeof e=="string")return e;if(typeof e=="object"){if(e instanceof String)return e.toString();if(e instanceof Error)return`${e.name??"NullErrorName"}: '${e.message??"NullErrorMessage"}'`}return Ht(e)}function Ht(e){if(e===null)return"null";if(e===void 0)return"undefined";if(typeof e!="object")return typeof e;const t=o=>Kt(o)?o:we(o);if(Symbol.toStringTag in e){const o=e[Symbol.toStringTag];return t(o)}const n=Object.getPrototypeOf(e);if(Symbol.toStringTag in n){const o=n[Symbol.toStringTag];return t(o)}const r=n&&n.constructor;if(r&&"name"in r&&Kt(r.name))return r.name;if(r&&"toString"in r&&typeof r.toString=="function")try{const o=r.toString(),i=o.match(/function\s+([A-Za-z0-9_$]+)/)||o.match(/class\s+([A-Za-z0-9_$]+)/);if(i&&Kt(i[1]))return i[1]}catch{}return Object.prototype.toString.call(e).slice(8,-1)}function we(e){function t(n){try{return Wt(n)}catch{return"FormattingError"}}try{return to(e)}catch(n){const r="Value-Format-Failure",o=t(n);return`[(${r}), (${o})]`}}function to(e){if(e===void 0)return"<UNDEFINED>";if(e===null)return"<NULL>";if(typeof e=="string")return`"${e}"`;if(typeof e=="number"||typeof e=="boolean"||typeof e=="bigint"||typeof e=="symbol")return String(e);if(typeof e=="function"){const t=e.length;return`function ${e.name}(of ${t} ${t===1?"arg":"args"})`}if(e instanceof Error)return Wt(e);if(Array.isArray(e))return e.length===0?"[]":`Array{length=${e.length}}`;if(e instanceof Map)return`Map{size=${e.size}}`;if(e instanceof Set)return`Set{size=${e.size}}`;try{return`[instanceof ${Ht(e)}]`}catch{return typeof e}}function no(e){return{baseIndent:e?.baseIndent??"",levelIndent:e?.levelIndent??"    ",maxCollectionLength:e?.maxCollectionLength??50}}function Fe(e,t){return e<0?"":e===0?t.baseIndent:e===1?t.baseIndent+t.levelIndent:t.baseIndent+t.levelIndent.repeat(e)}function Q(e,t=0,n){const r=no(n);try{return ro(e,t,r)}catch(o){const i=we(e),a=we(o);return`[(${i}), (${a})]`}}function ro(e,t,n){if(e===void 0)return"<UNDEFINED>";if(e===null)return"<NULL>";if(typeof e=="string")return`"${e}"`;if(typeof e=="number"||typeof e=="boolean"||typeof e=="bigint"||typeof e=="symbol")return String(e);if(typeof e=="function"){const r=e.length;return`function ${e.name}(of ${r} ${r===1?"arg":"args"})`}return Array.isArray(e)?oo(e,t,n):e instanceof Error?Wt(e):e instanceof Set?io(e,t,n):e instanceof Map?so(e,t,n):ao(e,t,n)}function oo(e,t,n){if(!Array.isArray(e))throw new Error(`This API only formats arrays, but value is '${we(e)}'.`);if(e.length===0)return"[]";if(e.length===1)return`[ ${Q(e.find(()=>!0),t+1,n)} ]`;const r=Ne+Fe(t+1,n),o=Ne+Fe(t,n),i=lo(e),a=i.label,u=[];for(const[c,h]of e.entries())if(c in e){if(u.length>=n.maxCollectionLength){const g=i.size-u.length,[f,v]=i.type==="MaybeSparse"?["at least ",">="]:["","="];u.push(`${r}[...] = ${f}${g} more items (length=${e.length},size${v}${i.size})`);break}u.push(`${r}[${c}] = ${Q(h,t+1,n)}`)}const l=u.join(",");return`${a}[${l}${o}]`}function io(e,t,n){if(e===null)throw new Error("This API only formats Set instances, but value is 'null'.");if(!(e instanceof Set))throw new Error(`This API only formats Set instances, but value is '${we(e)}'.`);if(e.size===0)return"Set(0)";if(e.size===1)return`Set(1){ ${Q(e.keys().next().value,t+1,n)} }`;const r=Ne+Fe(t+1,n),o=Ne+Fe(t,n),i=[];for(const d of e){if(i.length>=n.maxCollectionLength){const c=e.size-i.length;i.push(`${r}{...${c} more items} (size=${e.size})`);break}i.push(r+Q(d,t+1,n))}const a=`Set(${e.size})`,u=i.join(",");return`${a}{${u}${o}}`}function so(e,t,n){if(e===null)throw new Error("This API only formats Map instances, but value is 'null'.");if(!(e instanceof Map))throw new Error(`This API only formats Map instances, but value is '${we(e)}'.`);if(e.size===0)return"Map(0)";if(e.size===1){const[d,c]=e.entries().next().value,h=Q(d,t+1,n),g=Q(c,t+1,n);return`Map(1){ [${h}] => ${g} }`}const r=Ne+Fe(t+1,n),o=Ne+Fe(t,n),i=[];for(const[d,c]of e){if(i.length>=n.maxCollectionLength){const f=e.size-i.length;i.push(`${r}{...${f} more items} (size=${e.size})`);break}const h=Q(d,t+1,n),g=Q(c,t+1,n);i.push(`${r}[${h}] => ${g}`)}const a=`Map(${e.size})`,u=i.join(",");return`${a}{${u}${o}}`}function ao(e,t,n){if(e===null)throw new Error("This API only formats object instances, but value is 'null'.");if(typeof e!="object")throw new Error(`This API only formats objects, but value is '${typeof e}'.`);const r=Ht(e),o=r==="Object"?"":r,i=n.levelIndent??"",a=Fe(t,n),u=JSON.stringify(e,void 0,i),l=`${o}${u}`,d=new RegExp(`(\\r\\n|\\r|\\n)${i}`,"g");if(eo(l,d,2))return l.replace(/(\r\n|\r|\n)/g,`$1${a}`);{const h=JSON.stringify(e);return`${o}${h}`}}function lo(e,t=5e4){const n=Math.min(e.length,Math.max(0,t)),r=n===e.length;let o=0,i=!1;for(let a=0;a<n;a++)a in e?o++:i=!0;return{type:r?i?"Sparse":"Normal":"MaybeSparse",length:e.length,size:o,label:r?i?`Sparse(l=${e.length},s=${o})`:`Array(${e.length})`:`MaybeSparse(l=${e.length},s>=${o})`}}var de,fe,oe,he;const Ot=class Ot{constructor(){y(this,de,0);y(this,fe);y(this,oe,!1);y(this,he,!1);m(this,"clone",()=>{const t=new Ot;return p(t,de,s(this,de)),p(t,fe,s(this,fe)),p(t,oe,s(this,oe)),p(t,he,s(this,he)),t});m(this,"start",()=>{p(this,oe,!0),p(this,de,performance.now())});m(this,"stop",()=>(p(this,fe,performance.now()),p(this,he,!0),this.elapsedMSec()));m(this,"reset",()=>{const t=this.elapsedMSec();return p(this,de,0),p(this,fe,void 0),p(this,oe,!1),p(this,he,!1),t});m(this,"hasStarted",()=>s(this,oe));m(this,"hasStopped",()=>s(this,he));m(this,"elapsedMSec",()=>s(this,oe)?this.elapsedSinceMSec(s(this,de)):0);m(this,"elapsedStr",()=>uo(this.elapsedMSec()));m(this,"elapsedSinceMSec",t=>(s(this,fe)??performance.now())-t);this.reset()}static Run(){const t=new Ot;return t.start(),t}};de=new WeakMap,fe=new WeakMap,oe=new WeakMap,he=new WeakMap;let nn=Ot;function uo(e){if(!Number.isFinite(e))return"infinite";if(Number.isNaN(e))return"NaN";const t=e<0,n=Math.abs(Math.round(e*10));if(n===0)return"0ms";const o=(n%1e4).toString().padStart(4,"0"),i=Math.floor(n/1e4);if(i===0)return t?`-0.${o}s`:`0.${o}s`;const a=i%60,u=a.toString().padStart(2,"0"),l=Math.floor(i/60);if(l===0)return t?`-${u}.${o}s`:`${u}.${o}s`;const c=(l%60).toString().padStart(2,"0");if(Math.floor(l/60)===0)return t?`-${c}:${u}.${o}`:`${c}:${u}.${o}`;const g=a.toString();return t?`${g}:${c}:${u}.${o}`:`${g}:${c}:${u}.${o}`}function co(e,t="upper"){const n=t==="lower"?97:65,r=26,o=[];for(let a=0;a<e;a++)o.push(n+Math.floor(Math.random()*r));return String.fromCharCode(...o)}function rn(e){if(!Number.isInteger(e))throw new RangeError(`Expecting 'n' to be an integer, but it is '${e}'.`);return e===0?1:Math.floor(Math.log10(Math.abs(e)))+1}var ie,P,ge,se;class fo{constructor(t,n=0){y(this,ie,0);y(this,P);y(this,ge);y(this,se);m(this,"startId",()=>s(this,ie));m(this,"maxId",()=>s(this,P));m(this,"minFormatDigitCount",()=>s(this,ge));m(this,"setMinFormatDigitCount",t=>{if(!Number.isInteger(t))throw new RangeError(`'maxDigCount' must be integer, but value is '${t}'.`);return t<0?p(this,ge,rn(s(this,P))):p(this,ge,t),this});m(this,"createNextId",()=>{const t=s(this,se);return s(this,se)===s(this,P)?p(this,se,s(this,ie)):gn(this,se)._++,t});m(this,"formatId",t=>{if(!Number.isInteger(t))throw new RangeError(`Expecting 'id' to be an integer, but it is '${t}'.`);if(t<s(this,ie)||s(this,P)<t)throw new RangeError(`Specified 'id' is '${t}', but it was expected to be in range [${s(this,ie)}, ${s(this,P)}].`);return s(this,se).toString().padStart(s(this,ge),"0")});m(this,"createAndFormatNextId",()=>{const t=this.createNextId();return{idNum:t,idStr:this.formatId(t)}});if(!Number.isInteger(t)||!Number.isInteger(n))throw new RangeError(`'maxId' and 'startId' must be integers, but values are '${t}' and '${n}' respectively.`);if(n<0)throw new RangeError(`'startId' must be non-negative, but it is '${n}'`);if(t<=n)throw new RangeError(`Expecting 'maxId <= startId' but values are '${t}' and '${n}' respectively.`);p(this,ie,n),p(this,P,t),p(this,ge,rn(s(this,P))),p(this,se,s(this,ie))}}ie=new WeakMap,P=new WeakMap,ge=new WeakMap,se=new WeakMap;var B,W,me,He,Oe,pe,ze,H,ve,R,z,st,ye,Se,Le,j,U,at,je,$t,lt,ut,Lt;class On{constructor(t,n,r,o,i,a,u,l){y(this,je);y(this,B);y(this,W);y(this,me);y(this,He);y(this,Oe);y(this,pe);y(this,ze);y(this,H);y(this,ve);y(this,R);y(this,z);y(this,st);y(this,ye,[]);y(this,Se);y(this,Le);y(this,j);y(this,U);y(this,at);m(this,"setSuccess",(...t)=>this.setCompleted(!0,t));m(this,"setFailure",(...t)=>this.setCompleted(!1,t));m(this,"setFailureAndRethrow",(t,...n)=>{throw this.setFailure(t,"The error will be rethrown and will propagate up the stack.",...n),t});m(this,"setCompleted",(t,n)=>{if(this.isCompleted)return!1;s(this,me).stop(),p(this,j,new Date),_e(n)&&s(this,ye).push(n),t?p(this,Se,!0):p(this,Le,!0);const r=Xt(n);r&&s(this,B).logErrors(this,r,s(this,j));const o=s(this,Lt).call(this,n);return s(this,B).logLine(o,s(this,j),this,Ye.OpEnd),s(this,U)&&s(this,U).tryResolve(),s(this,z)&&s(this,B).removeFromActiveOpsStack(this),!0});m(this,"removeFromActiveOpsStack",()=>{s(this,B).removeFromActiveOpsStack(this)});m(this,"addInfo",(...t)=>{const n=new Date;s(this,ye).push(t);const r=s(this,ut).call(this,n,t);s(this,B).logLine(r,n,this,Ye.OpEnd);const o=Xt(t);o&&s(this,B).logErrors(this,o,n)});m(this,"getDurationMSec",()=>s(this,me).elapsedMSec());m(this,"getDurationStr",()=>s(this,me).elapsedStr());m(this,"copyTimer",()=>s(this,me).clone());y(this,lt,(t,n)=>{const r=St(s(this,W)),o=s(this,z)?"STRT":"ATTN",i=Ee(s(this,R)),a=_e(n);let u="";a&&(u=Zt(n,s(this,R),{baseIndent:bt(s(this,pe)),levelIndent:Ee(1)}),u=` (${u})`);const l=t===null?s(this,H):t+" "+s(this,H);return{logEntry:`${pt(this,je,$t).call(this,r,o,i)}${l}${u} {{`,activeOpsStackEntry:`${r}|${l}${u}`}});y(this,ut,(t,n)=>{const r=St(t),o="INFO",i=Ee(s(this,R)+1),u=_e(n)?": "+Zt(n,s(this,R)+1,{baseIndent:bt(s(this,pe)),levelIndent:Ee(1)}):".",l=this.getDurationStr();return`${pt(this,je,$t).call(this,r,o,i)}${s(this,H)} <${l}>${u}`});y(this,Lt,t=>{if(!s(this,j))throw new Error("TrackedOperation.#formatEndEntries(..): `#endTimestamp` must be set, but it wasn't.");const n=St(s(this,j)),r=s(this,z)?s(this,Se)?"SUCS":"FAIL":"ATTN",o=Ee(s(this,R)),i=_e(t),a=s(this,z)||s(this,ye).length>0||i;let u="";if(a){const d=this.getDurationStr();let c="";i&&(c=Zt(t,s(this,R),{baseIndent:bt(s(this,pe)),levelIndent:Ee(1)}),c=` (${c})`),u=` ${s(this,H)} <${d}>${c}`}return`${pt(this,je,$t).call(this,n,r,o)}}}${u}`});m(this,"formatErrorNotice",(t,n,r)=>{const o=St(t),i="ERRS",a=Ee(s(this,R)+1),u=Ne+bt(s(this,pe))+a;return`${o}|${s(this,Oe)}|${i}: ${a}${s(this,H)}: Specified Info has ${n.length} Error objects. Data included in log.`+(r?u+"Will dump additional details to console.error.":u+"Log-to-console is disabled; enable to dump additional error details.")});p(this,B,t),p(this,He,n.idNum),p(this,Oe,`${t.sessionId}.${n.idStr}`),p(this,H,ho(r)),p(this,ze,`${this.operationIdStr}|'${this.name}'`),p(this,ve,o),p(this,R,o?s(o,R)+1:0),p(this,z,i),p(this,st,u),p(this,Se,!1),p(this,Le,!1),p(this,j,void 0),p(this,U,null),p(this,pe,Math.max(0,rn(s(this,He))-Hn)),_e(l)&&s(this,ye).push(l),p(this,W,new Date),p(this,me,nn.Run());const c=s(this,lt).call(this,a,l);p(this,at,c.activeOpsStackEntry);const h={parentOp:s(this,ve)===null?null:s(s(this,ve),ze)},g=!s(this,z)&&!_e(l);if(g&&(c.logEntry=s(this,lt).call(this,a,[h]).logEntry),s(this,B).logLine(c.logEntry,s(this,W),this,Ye.OpStart),!g){const v=s(this,ut).call(this,s(this,W),[h]);s(this,B).logLine(v,s(this,W),this,Ye.OpInfo)}const f=Xt(l);f&&s(this,B).logErrors(this,f,s(this,W)),s(this,B).addToActiveOpsStack(this)}get startTimestamp(){return s(this,W)}get endTimestamp(){return s(this,j)}get operationId(){return s(this,He)}get operationIdStr(){return s(this,Oe)}get name(){return s(this,H)}get operationDescr(){return s(this,ze)}get parent(){return s(this,ve)}get hasParent(){return s(this,ve)!==null}get nestDepth(){return s(this,R)}get isContainer(){return s(this,z)}get avoidConsole(){return s(this,st)}get isCompleted(){return s(this,Se)||s(this,Le)}get isSucceeded(){return s(this,Se)}get isFailed(){return s(this,Le)}get completion(){return s(this,U)||(p(this,U,new Wn),this.isCompleted&&s(this,U).tryResolve()),s(this,U).promise()}get info(){return s(this,ye)}get activeOpsStackEntry(){return s(this,at)}}B=new WeakMap,W=new WeakMap,me=new WeakMap,He=new WeakMap,Oe=new WeakMap,pe=new WeakMap,ze=new WeakMap,H=new WeakMap,ve=new WeakMap,R=new WeakMap,z=new WeakMap,st=new WeakMap,ye=new WeakMap,Se=new WeakMap,Le=new WeakMap,j=new WeakMap,U=new WeakMap,at=new WeakMap,je=new WeakSet,$t=function(t,n,r){return`${t}|${s(this,Oe)}|${n}: ${r}`},lt=new WeakMap,ut=new WeakMap,Lt=new WeakMap;function _e(e){return e&&e.length>0}function ho(e){return e===void 0?"UndefinedName":e===null?"NullName":(e=e.trim(),e.length==0?"EmptyName":e)}function St(e){const t=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0"),r=e.getSeconds().toString().padStart(2,"0"),o=e.getMilliseconds().toString().padStart(3,"0");return`${t}:${n}:${r}.${o}`}function Ee(e){const t="    ";return e<1?"":e===1?t:t.repeat(e)}function Xt(e){if(!e)return null;if(e instanceof Error)return[e];if(Array.isArray(e)){if(e.length<1)return null;const t=e.filter(n=>n&&n instanceof Error);return t.length>0?t:null}return null}function Zt(e,t,n){return e&&Array.isArray(e)&&e.length===1&&0 in e?Q(e[0],t,n):Q(e,t,n)}function bt(e){let n="                            ";for(let r=0;r<e;r++)n=n+" ";return n}var x=(e=>(e[e.Inf=1]="Inf",e[e.Wrn=2]="Wrn",e[e.Err=4]="Err",e[e.Suc=8]="Suc",e[e.ConsoleCapture=512]="ConsoleCapture",e[e.WindowErrCapture=1024]="WindowErrCapture",e))(x||{});(e=>{function t(n,r){return(n&r)===r}e.is=t})(x||(x={}));function go(e){const t=dn(e),n=mo(e);return t+n}function dn(e){return x.is(e,512)?"":x.is(e,1024)?"":""}function mo(e){return x.is(e,1)?"":x.is(e,2)?"":x.is(e,4)?"":x.is(e,8)?"":""}var Ye=(e=>(e[e.Date=1]="Date",e[e.OpStart=2]="OpStart",e[e.OpEnd=3]="OpEnd",e[e.OpInfo=4]="OpInfo",e[e.OpErrNote=5]="OpErrNote",e))(Ye||{});const Ie=Object.freeze({operationsListener:null,writeToConsole:!0,virtualConsole:null,logBufferSize:105e3,logBufferCleanStep:1e4,eventDisplayDurationMSec:3e3}),Hn=4;var Mt,ct,D,O,Me,Ae,At,Dt,Bt,Rt;class po{constructor(){y(this,Mt,co(3,"upper"));y(this,ct,new fo(9999999,1).setMinFormatDigitCount(Hn));y(this,D,[]);y(this,O,[]);y(this,Me,new Date(2e3,1,1));y(this,Ae,!1);m(this,"config",{Defaults:Ie,operationsListener:Ie.operationsListener,writeToConsole:Ie.writeToConsole,virtualConsole:Ie.virtualConsole,logBufferSize:Ie.logBufferSize,logBufferCleanStep:Ie.logBufferCleanStep,eventDisplayDurationMSec:Ie.eventDisplayDurationMSec});m(this,"startOperation",(t,...n)=>{Array.isArray(t)&&(t=t.join(" "));const r=this.getCurrentTopContainer(),o=!0,i=s(this,ct).createAndFormatNextId(),a=null,u=!1;return new On(this,i,t,r,o,a,u,n)});m(this,"observeEvent",(t,n,r=void 0,...o)=>{const i=this.getCurrentTopContainer(),a=!1,u=s(this,ct).createAndFormatNextId(),l=go(t);let d=!1;d=x.is(t,x.ConsoleCapture),Array.isArray(n)&&(n=n.join(" "));const c=r===void 0?[]:r&&Array.isArray(r)?r:[r],h=new On(this,u,n,i,a,l,d,c);return o!==void 0&&o.length>0&&h.addInfo(o),h.setSuccess(),new vo(h,this.config.eventDisplayDurationMSec)});m(this,"observeError",(t,n,...r)=>this.observeEvent(x.Err,t,n,r));m(this,"getCurrentTopContainer",()=>{let t;for(let n=s(this,D).length-1;n>=0;n--)if(t=s(this,D)[n],t&&t.isContainer)return t;return null});y(this,At,t=>{for(let n=s(this,D).length-1;n>=0;n--)if(s(this,D)[n]===t)return n;return-1});y(this,Dt,t=>{for(let n=s(this,D).length-1;n>=0;n--)if(s(this,D)[n]?.operationIdStr===t)return n;return-1});y(this,Bt,(t,n)=>{if(!(s(this,Me).getFullYear()!==t.getFullYear()||s(this,Me).getMonth()!==t.getMonth()||s(this,Me).getDate()!==t.getDate()))return;const i={type:1,opId:null,entry:bo(t)};p(this,Me,t),s(this,O).push(i),this.config.operationsListener?.notifyLogEntryEmitted(i),this.config.writeToConsole&&!n&&(this.config.virtualConsole??console).log(i.entry)});m(this,"logLine",(t,n,r,o)=>{s(this,Bt).call(this,n,r.avoidConsole);const i={type:o,opId:r.operationIdStr,entry:t};s(this,O).push(i),this.config.operationsListener?.notifyLogEntryEmitted(i),this.config.writeToConsole&&!r.avoidConsole&&(this.config.virtualConsole??console).log(i.entry),s(this,O).length>this.config.logBufferSize&&s(this,Rt).call(this)});y(this,Rt,()=>{if(s(this,Ae))return;p(this,Ae,!0);const t=this.startOperation("Trimming Log Buffer",{logEntries:s(this,O).length});try{const n=s(this,O).splice(0,this.config.logBufferCleanStep);let r=null;for(let i=n.length-1;i>=0;i--){const a=n[i];if(a&&a.type===1){r=a;break}}let o=null;r&&(o=[r],s(this,O).unshift(r)),t.addInfo("Notifying listener.",{removedEntries:n.length,replacementEntries:o?.length??"null"}),this.config.operationsListener?.notifyLogEntriesDeleted(n,o),p(this,Ae,!1),t.setSuccess({loggedOps:s(this,O).length})}catch(n){p(this,Ae,!1),t.setFailure(n,{logEntries:s(this,O).length})}});m(this,"logErrors",(t,n,r)=>{if(t.avoidConsole)return;const o=t.formatErrorNotice(r,n,this.config.writeToConsole);if(this.logLine(o,r,t,5),this.config.writeToConsole&&!t.avoidConsole)for(const[i,a]of n.entries()){const u=`(${t.operationDescr})`,l=`(Err ${i+1} of ${n.length})`;(this.config.virtualConsole??console).error(u,l,a)}});m(this,"addToActiveOpsStack",t=>{s(this,D).push(t),this.config.operationsListener?.notifyActiveOpsStackUpdated(this.activeOps)});m(this,"removeFromActiveOpsStack",t=>{const n=s(this,D).length;if(n<1){(this.config.virtualConsole??console).error(`OperationsTracker.#removeFromActiveOpsStack(..): Trying to remove operation '${t.operationIdStr}', but there are no activeOps.`);return}const r=s(this,At).call(this,t);if(r<0){(this.config.virtualConsole??console).error(`OperationsTracker.#removeFromActiveOpsStack(..): Trying to remove operation '${t.operationIdStr}', but it is not in activeOps (length=${n}).`);return}r===n-1?s(this,D).pop():s(this,D).splice(r,1),this.config.operationsListener?.notifyActiveOpsStackUpdated(this.activeOps)});m(this,"dropLogEntriesForCompletedOps",()=>{const t=this.startOperation("Dropping Log Entries for Completed Operations");if(s(this,O).length===0){t.setSuccess("No log entries, nothing to do.");return}const n=o=>!o.opId||s(this,Dt).call(this,o.opId)<0,r="__impossible_id_";try{let o=0,i=0;for(;;){let a=r;for(;i<s(this,O).length;){const c=s(this,O)[i];if(!c)break;if(c.opId===a){i++;continue}if(n(c))break;a=c.opId??r,i++}if(i>=s(this,O).length)break;let u=i;for(a=r;u<s(this,O).length;){const c=s(this,O)[u];if(!c){u++;continue}if(c.opId===a){u++;continue}if(!n(c))break;a=c.opId??r,u++}const l=u-i;if(l===1&&s(this,O)[i]?.type===1)break;o+=l,t.addInfo("Dropping a range of entries",{dropFrom:i,dropTo:u,dropCount:l,totalDropCount:o});const d=s(this,O).splice(i,l);if(i<s(this,O).length&&s(this,O)[i]?.type!==1)for(let c=d.length-1;c>=0;c--){const h=d[c];if(h&&h.type===1){s(this,O).splice(i,0,h);break}}}t.addInfo("Updating listener"),this.config.operationsListener?.notifyLogEntriesRevised(s(this,O)),t.setSuccess({totalDropCount:o})}catch(o){t.setFailure(o)}});m(this,"createBulkDummyOperations",async t=>{const n=this.startOperation("Creating Bulk Dummy Operations",{count:t});await et.Run(500);const r=[1e3,1500],o=4500,i=[1e3,3e3];let a=n.getDurationMSec();const u=[0,0];for(let l=1;l<=t;l++){const d=l%50===0;if(d){const h=n.getDurationMSec(),g=h<=o?0:1;h-a>i[g]&&(n.addInfo({completed:l,breakType:"Long",breakLength:r}),await et.Run(r[g]),u[g]=(u[g]??0)+1,a=n.getDurationMSec())}this.startOperation(`Bulk Dummy operation ${l}.`,{d:n.getDurationStr(),c:d}).setSuccess()}n.setSuccess(u)})}get sessionId(){return s(this,Mt)}get activeOps(){return{iterator:s(this,D).entries(),count:s(this,D).length}}get loggedOps(){return s(this,O)}}Mt=new WeakMap,ct=new WeakMap,D=new WeakMap,O=new WeakMap,Me=new WeakMap,Ae=new WeakMap,At=new WeakMap,Dt=new WeakMap,Bt=new WeakMap,Rt=new WeakMap;var dt,ae,Nt;class vo{constructor(t,n){y(this,dt);y(this,ae);m(this,"delay",()=>s(this,ae));m(this,"completion",()=>s(this,ae).promise());m(this,"isCompleted",()=>s(this,ae).isCompleted());y(this,Nt,()=>{s(this,dt).removeFromActiveOpsStack()});p(this,dt,t),p(this,ae,new et(n)),s(this,ae).promise().finally(s(this,Nt)),s(this,ae).start()}}dt=new WeakMap,ae=new WeakMap,Nt=new WeakMap;const yo=" ## Date: ",So=" ##";function bo(e){const t=wo(e);return yo+t+So}function wo(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),o=e.toLocaleDateString("en-US",{weekday:"short"});return`${t}-${n}-${r}, ${o}`}var le;class Ln{constructor(){y(this,le,[]);m(this,"count",()=>s(this,le).length);m(this,"isEmpty",()=>s(this,le).length===0);m(this,"errors",()=>s(this,le));m(this,"add",t=>{s(this,le).push(t)});m(this,"throwIfHasErrors",t=>{const n=this.count();if(n===0)return;if(n===1)throw s(this,le)[0];let r;throw t!=null&&(typeof t=="string"?r=t:typeof t=="function"&&(r=t(this.errors()))),r===void 0&&(r=`${this.count()} errors were observed. Rethrowing as aggregate.`),new AggregateError(s(this,le),r)})}}le=new WeakMap;const zt=["debug","error","info","log","trace","warn"];Object.freeze(zt);const Co=e=>Object.fromEntries(zt.map(t=>[t,e]));function $o(e,t){if(e&&typeof e=="function"){const n=Co(e);return Mn(n)}else return Mn(e)}const on=Symbol("A private API that can only be called from within the ConsoleRedirect module."),Eo=e=>e&&"_privateGetRedirectMap"in e&&typeof e._privateGetRedirectMap=="function";function Io(...e){const t={};return e?.forEach(n=>{const r=Eo(n)?n._privateGetRedirectMap(on):n;Object.entries(r&&typeof r=="object"?r:{}).filter(([i,a])=>zt.includes(i)&&typeof a=="function").forEach(i=>{const[a,u]=i;a in t||(t[a]=(...l)=>u(a,...l))})}),Object.entries(console).filter(([n,r])=>typeof r=="function").forEach(n=>{const[r,o]=n;r in t||(t[r]=o)}),t}function Mn(e,t){const n=zt.map(i=>{if(!(i in e&&e[i]&&typeof e[i]=="function")||!(i in console&&typeof console[i]=="function"))return null;const a=e[i],u=console[i],l=function(){const c=new Ln;try{a(i,...arguments)}catch(h){c.add(h)}try{u(...arguments)}catch(h){c.add(h)}c.throwIfHasErrors(h=>`ConsoleRedirect: Errors occurred in both, the target function (${tn(h[0])}) and in the original/redirected function (${tn(h[1])}).`)};return console[i]=l,{redirectName:i,originalFunc:u,redirectFunc:l}}).filter(i=>i!==null);let r=!1;return{isCancelled:()=>r,cancel:i=>{if(r)return!1;if(!(i?.ignoreMismatch??!1)){for(const l of n)if(console[l.redirectName]!==l.redirectFunc)throw new Error(`Cannot cancel redirection and restore original console functions, because the current console[${l.redirectName}] function is not the destination of this redirect handle. Was console redirected multiple times? To ignore this mismatch and replace all console functions affected by this handle with their originals, invoke ConsoleRedirectHandle.cancel({ignoreMismatch = true}).`)}const u=new Ln;for(const l of n)try{console[l.redirectName]=l.originalFunc}catch(d){u.add(d)}return r=!0,u.throwIfHasErrors(l=>`${l.length} errors while restoring console functions.`),!0},invokeOriginalFunc:(i,...a)=>{if(r)return!1;const u=n.find(l=>l.redirectName===i);return u==null?!1:(u.originalFunc(...a),!0)},_privateGetRedirectMap:i=>{if(i!==on)throw Error(on.description);return e}}}function zn(e,t){return` *-*-* ${e} ${t} Capture BEGIN *-*-*`}function jn(e,t){return` *-*-* ${e} ${t} Capture END *-*-*`}const To="console",Un=dn(x.ConsoleCapture),xo=zn(Un,"Console Output"),ko=jn(Un,"Console Output");function Oo(e){const t=Io(),n=e.config.virtualConsole;e.config.virtualConsole=t;const r=$o((i,...a)=>{const u=Lo(i),l=`${To}.${i}`;let d;a.length===0?d="-no-args":d=`arg1: ${we(a[0])}; arg count: ${a.length}`,e.observeEvent(u,l,d,...a)});return console.warn(xo),{isCancelled:()=>r.isCancelled(),cancel:()=>{if(r.isCancelled())return!1;console.warn(ko);const i=r.cancel();if(i&&e.config.virtualConsole===t)e.config.virtualConsole=n;else{const a="ConsoleCaptureHandle.cancel(): Original `virtualConsole` of the tracker was not restored because the current virtualConsole is not the one installed by this ConsoleCaptureHandle. Was the console redirected multiple times?";e.observeEvent(x.Wrn,a),t.warn(a)}return i},invokeOriginalFunc:(i,...a)=>r.invokeOriginalFunc(i,...a)}}const Lo=e=>{switch(e){case"error":return x.Err|x.ConsoleCapture;case"warn":return x.Wrn|x.ConsoleCapture;case"log":return x.Suc|x.ConsoleCapture;default:return x.Inf|x.ConsoleCapture}},Qn=dn(x.WindowErrCapture),Mo=zn(Qn,"Window Error"),Ao=jn(Qn,"Window Error");function Do(e,t={errors:!0,unhandledRejection:!0}){const n={...t};let r=!1;const o=l=>{const d="type"in l?l.type:"UnknownEventType",c="message"in l?l.message:"<No Message>",h=`Unhandled error observed in window ('${d}': '${c}').`,g="error"in l?Wt(l.error):void 0,f=x.Err|x.WindowErrCapture;if(te.isApplicable(l)){if(r)return;te.getAccumulator(e).observeEvent(f,h,g,l);return}e.observeEvent(f,h,g,l)},i=l=>{const d="type"in l?l.type:"UnknownEventType",c="reason"in l,g=`Unhandled Promise rejection observed in window (${c?tn(l.reason):"<No Reason>"}).`;e.observeEvent(x.Err|x.WindowErrCapture,g,c?we(l.reason):d,{reasonInfo:c?l.reason:void 0,eventInfo:l})};n.errors&&window.addEventListener("error",o,!0),n.unhandledRejection&&window.addEventListener("unhandledrejection",i),console.warn(Mo);let a=!1;return{isCancelled:()=>a,cancel:()=>a?!1:(console.warn(Ao),n.unhandledRejection&&window.removeEventListener("unhandledrejection",i),n.errors&&window.removeEventListener("error",o,!0),a=!0,!0),setSuppressHandlingResizeObserverLoopErrors:l=>{r=l}}}const te={privates:{expectedMessage:"ResizeObserver loop completed with undelivered notifications.",accumulationPeriodMsec:5e3,suppressPerPeriodThreshold:5,observeInitialEvent:!1,currentAccumulator:null},isApplicable:e=>e&&"message"in e&&e.message===te.privates.expectedMessage,getAccumulator:e=>{const t=te.privates.currentAccumulator;if(t)return t;const n=Bo();return setTimeout(()=>{te.privates.currentAccumulator=null;const o=te.privates.suppressPerPeriodThreshold+0;if(n.countEvents<=o)return;const i=n.lastEvent,a=te.privates.accumulationPeriodMsec.toLocaleString();e.observeEvent(i.kind,`Multiple throttled & accumulated events (${n.countEvents})`,`${n.countEvents} events of the same kind occurred and were throttled over a period of approx. ${a} msec. Last event is shown.`,{eventInfo:i.eventDescr,errorInfo:i.errorDescr,moreInfo:i.moreInfo})},te.privates.accumulationPeriodMsec),te.privates.currentAccumulator=n,n}};function Bo(e,t){const n={countEvents:0,lastEvent:void 0,observeEvent:(r,o,i,...a)=>{n.countEvents===0?(n.countEvents=1,n.lastEvent={kind:r,eventDescr:o,errorDescr:i,moreInfo:a}):(n.countEvents++,n.lastEvent={kind:r,eventDescr:o,errorDescr:i,moreInfo:a})}};return n}const Fi={CurrentState:"Current State",FullLog:"Full Log"};function Gn(e){return e.map(n=>n.entry).join(`
`)}const Yn="StatusLogAndOperationsTracker.Settings";function Ro(e,t){const n=V.tracker.startOperation(`Store Status Log settings in Browser Local Storage key "${t}"`);try{if(!("localStorage"in globalThis))throw new Error("Cannot store statusLogState in localStorage: Storage is not available.");if(Pt(t))throw new Error(`Cannot store statusLogState in localStorage: storeKey is invalid ("${t}").`);const r=JSON.stringify({statusViewType:e.statusViewType.value,captureConsole:e.captureConsole.value,captureWindowErr:e.captureWindowErr.value,writeToConsole:e.writeToConsole.value,displayMode:e.displayMode.value},void 0,"    ");return localStorage.setItem(t,r),n.setSuccess(),!0}catch(r){return n.setFailure(r),!1}}function No(e,t){const n=V.tracker.startOperation(`Load Status Log settings from Browser Local Storage key "${t}"`);try{if(!("localStorage"in globalThis))throw new Error("Cannot load statusLogState from localStorage: Storage is not available.");if(Pt(t))throw new Error(`Cannot load statusLogState from localStorage: storeKey is invalid ("${t}").`);const r=localStorage.getItem(t);if(r===null)throw new Error(`Cannot load statusLogState from localStorage: Storage has no entry for key "${t}".`);const o=JSON.parse(r);if(o===null)throw new Error(`Cannot load statusLogState from localStorage: Parser returned null (JSON="${r}").`);if(typeof o!="object")throw new Error(`Cannot load statusLogState from localStorage: Parser returned a on-object (JSON="${r}").`);return n.addInfo("Loaded settings to be applied:",o),"statusViewType"in o&&e.setStatusViewType(o.statusViewType),"captureConsole"in o&&e.setCaptureConsole(o.captureConsole),"captureWindowErr"in o&&e.setCaptureWindowErr(o.captureWindowErr),"writeToConsole"in o&&e.setWriteToConsole(o.writeToConsole),"displayMode"in o&&e.setDisplayMode(o.displayMode),n.setSuccess(),!0}catch(r){return n.setFailure(r),!1}}function Jn(e){let t=e.iterator.next();if(t.done)return"";let n=t.value[1].activeOpsStackEntry;for(t=e.iterator.next();!t.done;)n=t.value[1].activeOpsStackEntry+`
`+n,t=e.iterator.next();return n}const Y=new po,Ce=L(""),qe=L("CurrentState"),sn=L(!1),an=L(!1),ln=L(!1),xe=L("DuringImportantOperations"),Ke=L(!1),fn=L(!1),tt=L(void 0);let wt=null,Je=null;const Fo=()=>Y,qo=e=>{if(qe.value===e)return;const t=e==="FullLog"?Gn(Y.loggedOps):Jn(Y.activeOps);qe.value=e,Ce.value=t},Vo=e=>{sn.value!==e&&(wt!==null&&wt.cancel(),e===!0?wt=Oo(Y):wt=null,sn.value=e)},_o=e=>{an.value!==e&&(Je!==null&&Je.cancel(),e===!0?Je=Do(Y,{errors:!0,unhandledRejection:!0}):Je=null,an.value=e)},Po=e=>{ln.value!==e&&(e||Y.observeEvent(x.Inf,"Disabling mirroring log to console."),Y.config.writeToConsole=e,ln.value=e,e&&Y.observeEvent(x.Inf,"Enabled mirroring log to console."))},Wo=e=>{xe.value!==e&&(xe.value=e,fn.value=xe.value==="Always"||xe.value==="DuringImportantOperations"&&Ke.value===!0)},Ho=e=>{Ke.value!==e&&(Ke.value=e,fn.value=xe.value==="Always"||xe.value==="DuringImportantOperations"&&Ke.value===!0)},zo=e=>{if(qe.value!=="FullLog")return;let t=Ce.value;t=t+(t.length>0?`
`:"")+e.entry,Ce.value=t},jo=(e,t)=>{if(qe.value!=="FullLog")return;let n=Ce.value;for(let r=0;r<e.length;r++){const o=e[r]?.entry+`
`,i=o.length;if(!n.startsWith(o)){queueMicrotask(()=>{Y.observeEvent(x.Err,"Status Log State: Error while pruning Log View Cache",`
   Cannot prune entry #${r} of ${e.length} removed entries.
    Entry (len=${i}) "${o}".
    But the View Cache does not start with those chars.
    The first ${i*2} chars of the View Cache: "${n.slice(0,i*2)}".
`)});break}n=n.slice(i)}if(t&&t.length>0){let r="";for(const o of t)r+=o.entry+`
`;n=r+n}Ce.value=n},Uo=e=>{if(qe.value!=="FullLog")return;const t=Gn(e);Ce.value=t},Qo=e=>{qe.value==="CurrentState"&&(Ce.value=Jn(e))},Go=e=>{if(e===void 0&&(e=tt.value??Yn),Pt(e))throw new Error(`The 'storeKey' is invalid ("${e}").`);const t=Ro(V,e);return t&&(tt.value=e),t},Yo=e=>{if(e===void 0&&(e=tt.value??Yn),Pt(e))throw new Error(`The specified 'storeKey' is invalid ("${e}").`);const t=No(V,e);return t&&(tt.value=e),t};function Jo(e){Je?.setSuppressHandlingResizeObserverLoopErrors(e)}const V={get tracker(){return Fo()},statusView:ee(Ce),statusViewType:ee(qe),captureConsole:ee(sn),captureWindowErr:ee(an),writeToConsole:ee(ln),displayMode:ee(xe),isImportantOperationOngoing:ee(Ke),isDisplayRequired:ee(fn),localStorageKey:ee(tt),setStatusViewType:qo,setCaptureConsole:Vo,setCaptureWindowErr:_o,setWriteToConsole:Po,setDisplayMode:Wo,setImportantOperationOngoing:Ho,notifyLogEntryEmitted:zo,notifyLogEntriesDeleted:jo,notifyLogEntriesRevised:Uo,notifyActiveOpsStackUpdated:Qo,saveToLocalStorage:Go,loadFromLocalStorage:Yo,setSuppressCaptureWindowErrorResizeObserverLoop:Jo};Y.config.operationsListener=V;const Ko=V.loadFromLocalStorage();Ko||(V.setDisplayMode("DuringImportantOperations"),V.setStatusViewType("CurrentState"),V.setCaptureConsole(!0),V.setCaptureWindowErr(!0),V.setWriteToConsole(!0));function Xo(){return V}function qi(){return Xo().tracker}function Vi(e,t,n){const r={type:"positive",textColor:"grey-10",closeBtn:!0,message:e??" "};qt.create(r)}function _i(e,t,n){const r={type:"negative",textColor:"grey-10",closeBtn:!0,message:e};qt.create(r)}function Pi(e,t,n){const r={type:"warning",textColor:"grey-10",closeBtn:!0,message:e??" "};t&&t.trim().length>0&&(r.caption=t),qt.create(r)}function Wi(e,t,n){const r={type:"info",textColor:"grey-10",closeBtn:!0,message:e};qt.create(r)}const Hi=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};export{si as $,Ei as A,ki as B,Ii as C,Ti as D,Hr as E,Zr as F,pi as G,Br as H,Or as I,Xo as J,Tr as K,Qt as L,bn as M,fi as N,di as O,Pi as P,ti as Q,_i as R,Fi as S,Wi as T,Vi as U,et as V,Gn as W,Ai as X,_r as Y,Vr as Z,Hi as _,oi as a,vi as a0,Fn as a1,ai as a2,Wt as a3,qi as a4,Kt as a5,Pt as a6,Wn as a7,Di as a8,x as a9,Bi as aa,Q as ab,wn as ac,Ni as ad,Ri as ae,ii as b,Ir as c,li as d,ci as e,Vt as f,ri as g,_t as h,Nr as i,Oi as j,Si as k,Rr as l,hi as m,wi as n,Ci as o,bi as p,mi as q,gi as r,ni as s,Fr as t,ui as u,Li as v,yi as w,Mi as x,$i as y,xi as z};
